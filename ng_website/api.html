<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>nextGPU - API开放平台</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/api.css">
</head>
<body>
    <!-- 左侧导航栏 -->
    <div class="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <i class="fas fa-microchip"></i>
                <span>nextGPU</span>
            </div>
            <div class="user-info">
                <div class="avatar" id="user-avatar">用户</div> 
                <div class="user-details">
                    <h3 id="user-name">设计师</h3> 
                    <p>VIP会员</p>
                </div>
            </div>
            
            <div class="user-stats">
                <div class="stat-item">
                    <span>剩余积分</span>
                    <span id="user-credits" class="stat-value">加载中...</span>
                </div>
                <div class="stat-item">
                    <span>工作流</span>
                    <span id="user-workflows" class="stat-value">加载中...</span>
                </div>
                <div class="stat-item">
                    <span>图片</span>
                    <span id="user-images" class="stat-value">加载中...</span>
                </div>
                <div class="stat-item">
                    <span>存储空间</span>
                    <span id="user-storage" class="stat-value">加载中...</span>
                </div>
            </div>
        </div>
        
        <div class="sidebar-menu">
            <div class="menu-group">
                <h4 class="menu-group-title">创作工具</h4>
                <div class="menu-item" onclick="window.location.href='market.html'">
                    <i class="fas fa-th-large"></i>
                    <span>工作流广场</span>
                </div>
                <div class="menu-item" onclick="window.location.href='generate.html'">
                    <i class="fas fa-bolt"></i>
                    <span>快速生图</span>
                </div>
                <div class="menu-item active" onclick="window.location.href='api.html'">
                    <i class="fas fa-code"></i>
                    <span>API开放平台</span>
                </div>
            </div>
            <div class="menu-group">
                <h4 class="menu-group-title">个人中心</h4>
                <div class="menu-item" onclick="window.location.href='subscription.html'">
                    <i class="fas fa-user"></i>
                    <span>订阅中心</span>
                </div>
            </div>
        </div>

        <!-- 添加移动端元素 -->
        <div class="mobile-stats">
            <div class="mobile-stat-item">
                <div>剩余积分</div>
                <div id="mobile-credits">加载中...</div>
            </div>
            <div class="mobile-stat-item">
                <div>工作流</div>
                <div id="mobile-workflows">加载中...</div>
            </div>
            <div class="mobile-stat-item">
                <div>图片</div>
                <div id="mobile-images">加载中...</div>
            </div>
            <div class="mobile-stat-item">
                <div>存储空间</div>
                <div id="mobile-storage">加载中...</div>
            </div>
        </div>
        
        <div class="sidebar-footer">
            <div class="footer-title">设置与支持</div>
            <div class="footer-links">
                <a href="#">微信公众号</a>
                <a href="#">小红书</a>
                <a href="#">抖音</a>
                <a href="#">B站</a>
                <a href="#">用户协议</a>
                <a href="#">隐私政策</a>
                <a href="#">关于我们</a>
            </div>
        </div>
    </div>
    
    <!-- 主内容区域 -->
    <div class="main-content">
        <!-- 顶部工具栏 -->
        <div class="topbar">
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" placeholder="搜索模型、创作者、灵感...">
            </div>
            <div class="topbar-actions">
                <div class="action-icon">
                    <i class="fas fa-bell"></i>
                </div>
            </div>
        </div>
        
        <!-- 内容区域 -->
        <div class="content">
            <div class="section-header">
                <h2 class="section-title">API开放平台</h2>
            </div>


            <div class="api-center-container">

                <!-- API示例区域 - 使用标签页 -->
            <div class="tabs-container">
                <div class="tabs-header">
                    <button class="tab-button active" data-tab="python">Python</button>
                    <button class="tab-button" data-tab="javascript">JavaScript</button>
                    <button class="tab-button" data-tab="curl">cURL</button>
                </div>
                
                <!-- Python代码示例 -->
                <div id="python" class="tab-content active">
                    <div class="api-demo-section">
                        <div class="api-demo-block">
                            <div class="api-demo-code-header">
                                <span class="code-lang">Python</span>
                                <button class="copy-btn">复制代码</button>
                            </div>
                            <pre class="api-demo-code">
<span class="code-keyword">import</span> requests
<span class="code-keyword">import</span> json

<span class="code-comment"># API端点</span>
url = <span class="code-string">"http://nextgpu.aihub.cool:9080/session/publish"</span>

<span class="code-comment"># 请求头</span>
headers = {
    <span class="code-string">"Content-Type"</span>: <span class="code-string">"application/json"</span>,
}

<span class="code-comment"># 请求体</span>
<pre class="json-code">{
    <span class="code-key">"title"</span>: <span class="code-string">"Image generation"</span>,<span class="code-comment">  //工作流名称</span>
    <span class="code-key">"imageCount"</span>: <span class="code-number">3</span>,<span class="code-comment">              //生成图片数量</span>
    <span class="code-key">"imagePath"</span>: <span class="code-string">"2025/06"</span>,<span class="code-comment">       //图片在OSS存储路径</span>
    <span class="code-key">"taskID"</span>: <span class="code-string">"nextGPU20250531145458888"</span>,<span class="code-comment"> //任务ID</span>
    <span class="code-key">"data"</span>: {
        <span class="code-key">"parameters"</span>: {
            <span class="code-key">"imageRatio"</span>: <span class="code-string">"16:9"</span>,<span class="code-comment">//图片比例</span>
            <span class="code-key">"promptText"</span>: <span class="code-string">"A little boy running"</span><span class="code-comment">//描述词</span>
        }
    }
}</pre>

<span class="code-comment"># 发送请求</span>
response = requests.post(<span class="code-url">url</span>, headers=<span class="code-param">headers</span>, json=<span class="code-param">data</span>)

<span class="code-keyword">if</span> response.status_code == 200:
    result = response.json()
    <span class="code-comment"># 获取生成的图像URL</span>
    image_url = result[<span class="code-string">'data'</span>][0][<span class="code-string">'url'</span>]
    print(<span class="code-string">"图像生成成功! 访问URL:"</span>, image_url)
<span class="code-keyword">else</span>:
    print(<span class="code-string">"请求失败，状态码:"</span>, response.status_code)
    print(<span class="code-string">"错误信息:"</span>, response.text)</pre>
                        </div>
                    </div>
                </div>
                
                <!-- JavaScript代码示例 -->
                <div id="javascript" class="tab-content">
                    <div class="api-demo-section">
                        <div class="api-demo-block">
                            <div class="api-demo-code-header">
                                <span class="code-lang">JavaScript</span>
                                <button class="copy-btn">复制代码</button>
                            </div>
                            <pre class="api-demo-code">
<span class="code-keyword">const</span> fetch = require('node-fetch');

<span class="code-comment">// API端点</span>
<span class="code-keyword">const</span> url = <span class="code-string">"http://nextgpu.aihub.cool:9080/session/publish"</span>;

<span class="code-comment">// 请求参数</span>
<span class="code-keyword">const</span> {
    title: <span class="code-string">"Image generation"</span>,<span class="code-comment">  //工作流名称</span>
    imageCount: <span class="code-string">3</span>,<span class="code-comment">  //生成图片数量</span>
    imagePath: <span class="code-string">"2025/06"</span>,<span class="code-comment">  //图片在OSS存储路径</span>
    taskID: <span class="code-string">"nextGPU20250531145458888"</span>,<span class="code-comment">  //任务ID</span>
    <span class="code-key">"data"</span>: {
        <span class="code-key">"parameters"</span>: {
            <span class="code-key">"imageRatio"</span>: <span class="code-string">"16:9"</span>,<span class="code-comment">//图片比例</span>
            <span class="code-key">"promptText"</span>: <span class="code-string">"A little boy running"</span><span class="code-comment">//描述词</span>
        }
    }
};

<span class="code-comment">// 发送请求</span>
fetch(url, {
  method: <span class="code-string">'POST'</span>,
  headers: {
    <span class="code-string">'Content-Type'</span>: <span class="code-string">'application/json'</span>,
    <span class="code-string">'Authorization'</span>: <span class="code-string">'Bearer YOUR_API_KEY'</span>
  },
  body: JSON.stringify(data)
})
.then(response => response.json())
.then(result => {
  <span class="code-comment">// 获取生成的图像URL</span>
  <span class="code-keyword">const</span> imageUrl = result.data[0].url;
  console.log(<span class="code-string">"图像生成成功! 访问URL:"</span>, imageUrl);
})
.catch(error => console.error(<span class="code-string">'请求失败:'</span>, error));</pre>
                        </div>
                    </div>
                </div>
                
                <!-- cURL代码示例 -->
                <div id="curl" class="tab-content">
                    <div class="api-demo-section">
                        <div class="api-demo-block">
                            <div class="api-demo-code-header">
                                <span class="code-lang">cURL</span>
                                <button class="copy-btn">复制代码</button>
                            </div>
                            <pre class="api-demo-code">
curl -X POST "http://nextgpu.aihub.cool:9080/session/publish" \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -d '{
    "title": "Image generation", 
    "imageCount": 3,
    "imagePath": "2025/05",
    "taskID": "nextGPU20250531145458888",
    "data": {
        "parameters": {
            "imageRatio": "16:9",
            "promptText": "A little boy running"
        }
    }
}'</pre>
                        </div>
                    </div>
                </div>
                
                
                <!-- API定价卡片 -->
                <div class="api-card">
                    <div class="card-header">
                        <h3>API - 定价</h3>
                    </div>
                    <div class="card-content">
                        <p class="info">使用API生图将消耗积分，100积分 = 1元（原价）</p>
                        <table class="pricing-table">
                            <thead>
                                <tr>
                                    <th colspan="2">计费规则</th>
                                    <th>标准生图价格（人民币/积分 每图）（原价）</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>nextGPU AI自定义模型</td>
                                    <td>0.0055元/M px/Step</td>
                                    <td>0.11元/11积分，1024x1024，20 Steps，F.1 - Dev底模+任意数量lora，无Controlnet</td>
                                </tr>
                                <tr>
                                    <td>nextGPU AI自定义模型</td>
                                    <td>0.0025元/M px/Step</td>
                                    <td>0.05元/5积分，1024x1024，20 Steps，XL底模+任意数量lora，无Controlnet</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- 常见问题卡片 -->
                <div class="api-card">
                    <div class="card-header">
                        <h3>常见问题</h3>
                    </div>
                    <div class="card-content faq-content">
                        <div class="faq-item">
                            <div class="faq-question">
                                <span>1、是否支持对公打款？</span>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>支持，请选择"定制"计划后联系商务人员。</p>
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question">
                                <span>2、是否可开发票？</span>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>标准计划和定制计划支持开具发票，基础计划不支持。</p>
                            </div>
                        </div>
                        <div class="faq-item">
                            <div class="faq-question">
                                <span>3、是否支持退款？</span>
                                <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="faq-answer">
                                <p>充值积分后不支持退款，请按需充值。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>           
            </div>
        </div>
    </div>
    <script src="js/base.js"></script>
    <script src="js/api.js"></script>
    <script src="js/sendMessage.js"></script>
</body>
</html>